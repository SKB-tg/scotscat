(()=>{var n=class{constructor(){}setTitle(t){document.title=t}async getHtml(){return""}};var f=class extends n{constructor(){super(),this.setTitle("Main")}async getHtml(){return await(await fetch("/static/layout.htm")).text()}};var g=class extends n{constructor(){super(),this.setTitle("Posts")}async getHtml(){return'<h1 class="content">My best posts</h1>'}};var _=class extends n{constructor(){super(),this.setTitle()}async getHtml(){let t=T(),r=w(),e=`/photos/${x()}`,a=await(await fetch(e,{method:"GET"})).text();function l(c){c=c.replace(/[\[\] ]/g,"");var m=c.replace(/"/g,"").replace(/""/g,"").split(",");return m}let i=l(a),d=`
    <section class="section single-page js-catalog">
  <div class="container single-page__container">
      <div class="single-page__content">
        <div class="product js-product" data-product-name="\u0411\u0443\u0440\u0433\u0435\u0440" data-product-price="220" data-product-attribute="\u0421\u0440\u0435\u0434\u043D\u0438\u0439" data-product-src="http://localhost/pizzatime/wp-content/uploads/2020/04/burger1-500x313.png">
          <picture>
            <div class="row_gallery" >`,s="";for(var p=0;p<i.length;p++){let c=i[p];s=s+`<a style="" href="${c}" data-fancybox="gallery" data-caption="">
	     <div class="fon"></div>
	     <img src="${c}" alt="" />
	     </a>`}let h=`        </div>
          </picture>
          <div class="product__content">
            <h1 class="page-title product__title">${t}</h1>
            <div class="product__description">${r}</div>
          </div>
          <footer class="product__footer">
        </footer>
        </div>
      </div>
      </div>

</section>`;return d+s+h}};var v=class extends n{constructor(){super()}async getHtml(){return await(await fetch("/static/Kittens.htm")).text()}};var S=t=>{history.pushState(null,null,t),y()},y=async()=>{let t=[{path:"/",view:f},{path:"/kotiks",view:g},{path:"/order_kot",view:_},{path:"/kittens",view:v}],e=t.map(s=>({route:s,isMatch:location.pathname===s.path})).find(s=>s.isMatch);e||(e={route:t[0],isMatch:!0});let o=new e.route.view;document.getElementById("layout").innerHTML=await o.getHtml();var l=(async(s,p,h)=>{var u=document.createElement("script");u.type="text/javascript",u.async=p??!1,u.src=s,u.text=h??"";var c=[];c=document.getElementsByTagName("script")??[];var m=c[3];return m.parentNode.insertBefore(u,m)})("/static/js/inter_build.js",!0);e.route.path;var i=document.createElement("link");i.rel="stylesheet",i.href="/static/css/jquery.fancybox.min.css";var d=document.getElementsByTagName("link")[2].parentNode.insertBefore(i,d)},b=function(t,r){var e=t.getBoundingClientRect().top??0,o=window.pageYOffset,a=document.querySelector("#section_about"),l=e+o,i=document.querySelector(".header-page").clientHeight,d=t.classList.contains("section-about")?l-i:l;if(jQuery("html").animate({scrollTop:d},r),t==="_logo"){jQuery("html").animate({scrollTop:0},500);return}};document.body.valueAttr=function(t,r){for(var e=t;e;){var o=e.getAttribute(r);if(o)return o;e=e.parentElement}return null};console.log("run");async function k(t){var r=document.querySelector("."+t);if(t===null)return;let e=0;function o(){if(e<30){var a=document.querySelector("."+t)??!1;if(a){a=document.querySelector("."+t)??!1;let l=()=>{a.classList.add("is-activue")};b(a,500),setTimeout(l,1200),localStorage.removeItem("to_container_section");return}console.log(a),e++,setTimeout(o,25)}}o()}window.addEventListener("popstate",y);document.addEventListener("DOMContentLoaded",()=>{y()});document.addEventListener("click",t=>{var r=t.target,e=document.body.valueAttr(r,"data-scroll-to")??null;if(location.pathname==="/"){if(e!==null){let a=()=>{o.classList.add("is-activue")};var o=document.querySelector("."+e)??!1;o&&(t.preventDefault(),b(o,10),t.stopPropagation(),setTimeout(a,50))}}else e!==null&&(document.querySelector(".back").style.display="block",document.querySelector(".back").style.opacity=1,(r.classList.contains("link")||r.parentNode.classList.contains("link"))&&(console.log(location.pathname),t.preventDefault(),S(r.href),k(e)),jQuery(document.querySelector(".back")).animate({opacity:0},1500),setTimeout(()=>{document.querySelector(".back").style.display="none"},2e3))});document.body.addEventListener("click",function(t){var r=t.target;if(r.classList.contains("product__btn")===!0){let e=document.body.valueAttr(r,"data-folder"),o=document.body.valueAttr(r,"data-descriptions-txt"),a=document.body.valueAttr(r,"data-descriptions-title");localStorage.removeItem("current_img_folder"),localStorage.setItem("current_img_folder",e),localStorage.removeItem("current_txt_descriptions"),localStorage.setItem("current_txt_descriptions",o),localStorage.removeItem("current_title_descriptions"),localStorage.setItem("current_title_descriptions",a)}});var x=()=>localStorage.getItem("current_img_folder"),w=()=>localStorage.getItem("current_txt_descriptions"),T=()=>localStorage.getItem("current_title_descriptions");})();
