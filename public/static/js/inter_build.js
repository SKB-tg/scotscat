(()=>{(function(){var r=function(){var l=document.createElement("canvas");return l.getContext&&l.getContext("2d")?l.toDataURL("image/webp").indexOf("data:image/webp")==0:!1},s=r();if(s===!1)for(var a=document.querySelectorAll("[data-src-replace-webp]"),n=0;n<a.length;n+=1){var t=a[n],o=t.getAttribute("data-src-replace-webp");o!==null&&t.setAttribute("data-src",o)}var e=new LazyLoad({elements_selector:".lazy"})})();(function(){window.myLib={},window.myLib.body=document.querySelector("body"),window.myLib.closestAttr=function(r,s){for(var a=r;a;){var n=a.getAttribute(s);if(n)return n;a=a.parentElement}return null},window.myLib.closestItemByClass=function(r,s){for(var a=r;a;){if(a.classList.contains(s))return a;a=a.parentElement}return null},window.myLib.toggleScroll=function(){myLib.body.classList.toggle("no-scroll")}})();(function(){if(!window.matchMedia("(max-width: 992px)").matches){var r=document.querySelector(".header-page");window.addEventListener("scroll",function(){window.pageYOffset>0?r.classList.add("is-active"):r.classList.remove("is-active")})}})();(function(){let r={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.Android()||r.BlackBerry()||r.iOS()||r.Opera()||r.Windows()}};if(r.any()){myLib.body.classList.add("mobile");let s=document.querySelectorAll(".arrow");for(i=0;i<s.length;i++){let a=s[i].previousElementSibling,n=s[i].nextElementSibling,t=s[i];a.classList.add("parent"),s[i].addEventListener("click",function(){n.classList.toggle("open"),t.classList.toggle("active")})}return}myLib.body.classList.add("desktop")})();(function(){var s=function(n){n.classList.add("is-active")},a=function(n){n.classList.remove("is-active")};myLib.body.addEventListener("click",function(n){var t=n.target,o=myLib.closestAttr(t,"data-popup");if(o!==null){n.preventDefault();var e=document.querySelector("."+o);e&&(s(e),myLib.toggleScroll())}}),myLib.body.addEventListener("click",function(n){var t=n.target;if(t.classList.contains("popup-close")||t.classList.contains("popup__inner")){var o=myLib.closestItemByClass(t,"popup");a(o),myLib.toggleScroll()}}),myLib.body.addEventListener("keydown",function(n){if(n.keyCode===27){var t=document.querySelector(".popup.is-active");t&&(a(t),myLib.toggleScroll())}})})();(function(){document.addEventListener("scroll",function(s){var a=document.getElementById("section_about"),n=document.getElementById("section_contact"),t=document.getElementById("catalog"),o=e=>{if(!e)return;var l=window.pageYOffset||document.documentElement.scrollTop,c=e?e.offsetTop:54,v=e.offsetHeight+c,u=window.innerHeight,d=1-(c-l)/u,p=1-(c-v)/u;let f=()=>{e.classList.add("is-activue")},m=()=>{e.classList.remove("is-activue")};d=Math.max(.1,Math.min(p-.1,d)),p-.1>d>.1&&(e.classList.contains("is-activue")||f()),d===p-.1|d===.1&&e.classList.contains("is-activue")&&m()};o(a),o(n),o(t)})})();(function(){var r=document.querySelector(".section-catalog");if(r!==null){var s=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},a=function(e,l){s(e);for(var c=0;c<l.length;c+=1)e.appendChild(l[c])},n=r.querySelector(".catalog"),t=r.querySelector(".catalog-nav"),o=r.querySelectorAll(".catalog__item");t.addEventListener("click",function(e){var l=e.target,c=myLib.closestItemByClass(l,"catalog-nav__btn");if(!(c===null||c.classList.contains("is-active"))){e.preventDefault();var v=c.getAttribute("data-filter"),u=t.querySelector(".catalog-nav__btn.is-active");if(u.classList.remove("is-active"),c.classList.add("is-active"),v==="all"){a(n,o);return}for(var d=[],p=0;p<o.length;p+=1){var f=o[p];f.getAttribute("data-category")===v&&d.push(f)}a(n,d)}})}})();(function(){var r=document.querySelector(".section-contacts"),s=function(){typeof ymaps>"u"||ymaps.ready(function(){var t=new ymaps.Map("ymap",{center:[53.902284,27.561831],zoom:8},{searchControlProvider:"yandex#search"}),o=new ymaps.Placemark(t.getCenter(),{balloonContent:"\u0433. \u041C\u0438\u043D\u0441\u043A, \u043F\u043B\u043E\u0449\u0430\u0434\u044C \u042F\u043A\u0443\u0431\u0430 \u041A\u043E\u043B\u0430\u0441\u0430, 2"},{iconLayout:"default#image",iconImageSize:[40,50.2],iconImageOffset:[-10,-50]});t.geoObjects.add(o),t.behaviors.disable("scrollZoom")})},a=function(){var t=document.createElement("script");t.src="https://api-maps.yandex.ru/2.1/?lang=en_RU",myLib.body.appendChild(t),t.addEventListener("load",s)},n=function(){var t=r.getBoundingClientRect().top,o=window.pageYOffset,e=o+t;o+window.innerHeight>e&&(a(),window.removeEventListener("scroll",n))};document.querySelector("#ymap")&&(window.addEventListener("scroll",n),n())})();(function(){var r=document.querySelectorAll(".form-send");if(r.length!==0){for(var s=function(t){for(var o=t.querySelectorAll("input, select, textarea"),e="",l=0;l<o.length;l+=1){var c=o[l],v=c.name,u=c.value,d=l===0?"":"&";u&&(e+=d+v+"="+u)}return e},a=0;a<r.length;a+=1)r[a].addEventListener("submit",function(t){t.preventDefault();var o=t.currentTarget;n(o)});var n=function(t){var o=s(t),e=new XMLHttpRequest,l="mail1.php";e.open("POST",l),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){var c=document.querySelector(".popup.is-active");c?c.classList.remove("is-active"):myLib.toggleScroll(),console.log(e.response.split("")),e.timeout=3e3,e.response.split("").includes("1")?(document.querySelector(".popup-thanks").classList.add("is-active"),e.timeout=3e3,console.log(e.response)):(document.querySelector(".popup-error").classList.add("is-active"),alert(e.response.split(""))),t.reset()},console.log(e.response),e.send(o)}}})();(function(){async function r(n,t,o){if(n===null)return;var e=0,l=0,c=o||100;let v=n.innerHTML??t;n.innerHTML=" ";function u(){e<v.length?(n.innerHTML+=v.charAt(e),e++,setTimeout(u,c)):(l++,e=0,setTimeout(()=>{n.innerHTML=" ",u()},5e3))}u()}var s=document.getElementById("velcome");r(s,"",100);var a=document.getElementById("run-string");r(a,"",100),jQuery(document.querySelector(".back")).animate({opacity:0},1500),setTimeout(()=>{document.querySelector(".back").style.display="none"},2e3)})();})();
