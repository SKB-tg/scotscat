(()=>{(function(){var n=function(){var s=document.createElement("canvas");return s.getContext&&s.getContext("2d")?s.toDataURL("image/webp").indexOf("data:image/webp")==0:!1},c=n();if(c===!1)for(var o=document.querySelectorAll("[data-src-replace-webp]"),a=0;a<o.length;a+=1){var t=o[a],r=t.getAttribute("data-src-replace-webp");r!==null&&t.setAttribute("data-src",r)}var e=new LazyLoad({elements_selector:".lazy"})})();(function(){window.myLib={},window.myLib.body=document.querySelector("body"),window.myLib.closestAttr=function(n,c){for(var o=n;o;){var a=o.getAttribute(c);if(a)return a;o=o.parentElement}return null},window.myLib.closestItemByClass=function(n,c){for(var o=n;o;){if(o.classList.contains(c))return o;o=o.parentElement}return null},window.myLib.toggleScroll=function(){myLib.body.classList.toggle("no-scroll")}})();(function(){if(!window.matchMedia("(max-width: 992px)").matches){var n=document.querySelector(".header-page");window.addEventListener("scroll",function(){window.pageYOffset>0?n.classList.add("is-active"):n.classList.remove("is-active")})}})();(function(){var c=function(a){a.classList.add("is-active")},o=function(a){a.classList.remove("is-active")};myLib.body.addEventListener("click",function(a){var t=a.target,r=myLib.closestAttr(t,"data-popup");if(r!==null){a.preventDefault();var e=document.querySelector("."+r);e&&(c(e),myLib.toggleScroll())}}),myLib.body.addEventListener("click",function(a){var t=a.target;if(t.classList.contains("popup-close")||t.classList.contains("popup__inner")){var r=myLib.closestItemByClass(t,"popup");o(r),myLib.toggleScroll()}}),myLib.body.addEventListener("keydown",function(a){if(a.keyCode===27){var t=document.querySelector(".popup.is-active");t&&(o(t),myLib.toggleScroll())}})})();(function(){document.addEventListener("scroll",function(c){var o=document.getElementById("section_about"),a=document.getElementById("section_contact"),t=document.getElementById("catalog"),r=e=>{if(!e)return;var s=window.pageYOffset||document.documentElement.scrollTop,i=e?e.offsetTop:54,d=e.offsetHeight+i,l=window.innerHeight,u=1-(i-s)/l,v=1-(i-d)/l;let p=()=>{e.classList.add("is-activue")},f=()=>{e.classList.remove("is-activue")};u=Math.max(.1,Math.min(v-.1,u)),v-.1>u>.1&&(e.classList.contains("is-activue")||p()),u===v-.1|u===.1&&e.classList.contains("is-activue")&&f()};r(o),r(a),r(t)})})();(function(){var n=document.querySelector(".section-catalog");if(n!==null){var c=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},o=function(e,s){c(e);for(var i=0;i<s.length;i+=1)e.appendChild(s[i])},a=n.querySelector(".catalog"),t=n.querySelector(".catalog-nav"),r=n.querySelectorAll(".catalog__item");t.addEventListener("click",function(e){var s=e.target,i=myLib.closestItemByClass(s,"catalog-nav__btn");if(!(i===null||i.classList.contains("is-active"))){e.preventDefault();var d=i.getAttribute("data-filter"),l=t.querySelector(".catalog-nav__btn.is-active");if(l.classList.remove("is-active"),i.classList.add("is-active"),d==="all"){o(a,r);return}for(var u=[],v=0;v<r.length;v+=1){var p=r[v];p.getAttribute("data-category")===d&&u.push(p)}o(a,u)}})}})();(function(){var n=document.querySelector(".section-contacts"),c=function(){typeof ymaps>"u"||ymaps.ready(function(){var t=new ymaps.Map("ymap",{center:[53.902284,27.561831],zoom:8},{searchControlProvider:"yandex#search"}),r=new ymaps.Placemark(t.getCenter(),{balloonContent:"\u0433. \u041C\u0438\u043D\u0441\u043A, \u043F\u043B\u043E\u0449\u0430\u0434\u044C \u042F\u043A\u0443\u0431\u0430 \u041A\u043E\u043B\u0430\u0441\u0430, 2"},{iconLayout:"default#image",iconImageSize:[40,50.2],iconImageOffset:[-10,-50]});t.geoObjects.add(r),t.behaviors.disable("scrollZoom")})},o=function(){var t=document.createElement("script");t.src="https://api-maps.yandex.ru/2.1/?lang=en_RU",myLib.body.appendChild(t),t.addEventListener("load",c)},a=function(){var t=n.getBoundingClientRect().top,r=window.pageYOffset,e=r+t;r+window.innerHeight>e&&(o(),window.removeEventListener("scroll",a))};document.querySelector("#ymap")&&(window.addEventListener("scroll",a),a())})();(function(){var n=document.querySelectorAll(".form-send");if(n.length!==0){for(var c=function(t){for(var r=t.querySelectorAll("input, select, textarea"),e="",s=0;s<r.length;s+=1){var i=r[s],d=i.name,l=i.value,u=s===0?"":"&";l&&(e+=u+d+"="+l)}return e},o=0;o<n.length;o+=1)n[o].addEventListener("submit",function(t){t.preventDefault();var r=t.currentTarget;a(r)});var a=function(t){var r=c(t),e=new XMLHttpRequest,s="mail1.php";e.open("POST",s),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){var i=document.querySelector(".popup.is-active");i?i.classList.remove("is-active"):myLib.toggleScroll(),console.log(e.response.split("")),e.timeout=3e3,e.response.split("").includes("1")?(document.querySelector(".popup-thanks").classList.add("is-active"),e.timeout=3e3,console.log(e.response)):(document.querySelector(".popup-error").classList.add("is-active"),alert(e.response.split(""))),t.reset()},console.log(e.response),e.send(r)}}})();(function(){async function n(a,t,r){if(a===null)return;var e=0,s=0,i=r||100;let d=a.innerHTML??t;a.innerHTML=" ";function l(){e<d.length?(a.innerHTML+=d.charAt(e),e++,setTimeout(l,i)):(s++,e=0,setTimeout(()=>{a.innerHTML=" ",l()},5e3))}l()}var c=document.getElementById("velcome");n(c,"",100);var o=document.getElementById("run-string");n(o,"",100),myLib.body.classList.contains("desktop")||(myLib.body.classList.add("desktop"),myLib.body.classList.remove("mobile"),console.log("989898")),jQuery(document.querySelector(".back")).animate({opacity:0},1500),setTimeout(()=>{document.querySelector(".back").style.display="none"},2e3)})();})();
